
NOTES: REVIEW DAY AND NO LEC 9 MATERIAL ON EXAM

Manager - Agent relationship
- 1 manager can manage N agents
- Thus, Manager : Agent = 1: N
- an agent may be managed by multiple managers
- This way, Agent : Manager = 1: N
- Combined, Manager : Agent M : N
	- any manager can talk to any agent with respect to security protocols
- There may be a number of managers each of which manages all or a subset of agents
	- the subsets may overlap
- Discussion: Agents are like switches (kinda/technically)

### Agent Perspective
- Each agent controls its own local MIB and must be able to controls its use by the managers
- 3 aspects of control:
	- **Authentication Service**: the agent may wish to limit access to its MIBs to authenticated managers
	- **Access Policy**: The agent may wish to grant different access privileges to different managers
	- **Proxy service**: An agent can act as a proxy to other agents. This may involve implementing the authenticating service and/or access policy on behalf of the proxied systems on this proxy system
		- tiny devices with tiny software 

### Security via Community
- SNMP (per RFC-1157) provides primitive and limited security 
	- via the concept: Community
- Community is a relationship between an Agent and a set of Managers to define: 
	- Authentication,
	- Access control, and
	- Proxy characteristics
- The community concept is local to each agent

### Community
- An agent can define multiple communities
	- Agents can also share communities (duh())
	- it is more like a group name/user group
- i.e. one for each desired combination of (authentication, access, proxy) characteristics
- each community is given a unique name
- an agent can establish multiple communities each with overlapping manager memberships 
- a manager has to keep track of community name(s) for each agent that it manages

### Authentication Service
- Goal: to assure that the sender's claimed identitiy is correct
- SNMP (per RFC-1157) provides a trivial authentication sheme
- Every message between the manager and the agent contains the community name
- *the name functions as the password*
- a message is assumed to be authenticated if the sender *something*

### access policy
- by defining a community, an agent limits access to its MIB to a selected set of managers
- by the use of more than community, the agent can provide different categories of MIB access to different managers
- Two aspects of access-control:
	- SNMP MIB view:
		- limits a subset of object within a MIB
		- Different MIBS view per communnity
		- OBjects not limited to single subtree opf the MIB
	- SNMP aaccess mode:
		- Either read-only or read-write
		- defined for each community

### COmmunity Profile
- COmmunity profile = SNMP MIB view + SNMP access mode
	- i.e. a defined subset of the MIB at the agent, plus an access mode for those objects
- recall that each MIB object includes an access clause
	- ![[Pasted image 20240916200353.png]]
- The community access mode and object access mode are reconciled
- a community profile is associated to each community defined by an agent
- the combination of community and *something*

### Access Mode Reconciliation
![[Pasted image 20240916200443.png]]

### Instance Identification
- Every MIB object has a unique Object Identifiers (OID)
- When such a MIB object is accessed via SNMP,
	- it is a specific instance of the object that is accessed,
	- Not the object type!
- Columnar object
	- Objects that appear in tables
	- The OID is **not enough**
	- there is one instance of each object for every row in the table

### GetNext - Sequential Access 
- as OIDs are sequence of integers, they exhibit lexicographical ordering
	- lexicographical ordering is basically an ordering where numbers can only be after one another 5 is only after 4, 2 is only after 0 and 3 can not come before 2 (applies to the alphabet aswell)
- the ordering can be generated by traversing the tree of OIDs
- in a GetNext request with OID oid, the agent finds the next leaf OID strictly following oid in lexicographical order, say oid*
	- The agent returns (oid*, value of oid*) in its response
	- Note that, the manager may not have known oid*

### GetNextRequest
- Almost same as GetRequest, except
	- In a GetRequest, each variable in the variablebinding list refers to an object instance who value is to be retrived
	- In GetNextRequest, the respondent is to return the value of the object instance that is **next in lexicographical order**
- ![[Pasted image 20240916201857.png]]

![[Pasted image 20240916202011.png]]![[Pasted image 20240916203133.png]]
![[Pasted image 20240916204516.png]]
![[Pasted image 20240916204145.png]]